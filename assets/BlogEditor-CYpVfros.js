import{j as e,y as P,d as C,X as D,z as J,F as E}from"./ui-vendor-i7F9FKVx.js";import{u as _,r as i}from"./react-vendor-BOp29kWJ.js";import{l as p}from"./index-DWd285fD.js";import{M as A,r as M}from"./index-B0MQmSIx.js";import"./i18n-C26XKfAY.js";const $=()=>{const d=_(),[h,m]=i.useState(!1),[x,b]=i.useState(!1),[t,u]=i.useState({title:"",excerpt:"",content:"",category:"",tags:"",author:"ì´í˜¸ì§„",image_url:""});i.useEffect(()=>{const s=localStorage.getItem("adminMode")==="true";m(s),new URLSearchParams(window.location.search).get("admin")==="true"&&(localStorage.setItem("adminMode","true"),m(!0))},[]);const r=s=>{const{name:l,value:a}=s.target;u(o=>({...o,[l]:a}))},f=()=>{if(!t.title||!t.content){alert("ì œëª©ê³¼ ë‚´ìš©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.");return}try{const s={id:Date.now(),title:t.title,slug:t.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),excerpt:t.excerpt||t.content.substring(0,150)+"...",content:t.content,author:t.author,publishedAt:new Date().toISOString().split("T")[0],category:t.category||"ì¼ë°˜",tags:t.tags?t.tags.split(",").map(c=>c.trim()):[],image_url:t.image_url||`https://source.unsplash.com/800x400/?${t.category||"technology"}`,date:new Date().toISOString().split("T")[0],created_at:new Date().toISOString(),updated_at:new Date().toISOString(),published:!0},l=localStorage.getItem("customBlogPosts"),a=l?JSON.parse(l):[],o=[s,...a];localStorage.setItem("customBlogPosts",JSON.stringify(o)),alert("í¬ìŠ¤íŠ¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!"),u({title:"",excerpt:"",content:"",category:"",tags:"",author:"ì´í˜¸ì§„",image_url:""}),d("/blog")}catch(s){p.error("Failed to save post:",s),alert("í¬ìŠ¤íŠ¸ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},j=()=>{try{const s=localStorage.getItem("customBlogPosts"),l=s?JSON.parse(s):[],a=JSON.stringify(l,null,2),o="data:application/json;charset=utf-8,"+encodeURIComponent(a),c=`blog-posts-${new Date().toISOString().split("T")[0]}.json`,n=document.createElement("a");n.setAttribute("href",o),n.setAttribute("download",c),n.click()}catch(s){p.error("Failed to export posts:",s),alert("í¬ìŠ¤íŠ¸ ë‚´ë³´ë‚´ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},N=s=>{const l=s.target.files?.[0];if(!l)return;const a=new FileReader;a.onload=o=>{try{const c=o.target?.result;if(typeof c!="string")throw new Error("Invalid file content");const n=JSON.parse(c);if(!Array.isArray(n))throw new Error("Invalid JSON format: expected array");const g=localStorage.getItem("customBlogPosts"),w=g?JSON.parse(g):[],v=[...n,...w].filter((S,k,I)=>k===I.findIndex(O=>O.id===S.id));localStorage.setItem("customBlogPosts",JSON.stringify(v)),alert(`${n.length}ê°œì˜ í¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤!`)}catch{alert("íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},a.readAsText(l)},y=["AI","ì›¹ê°œë°œ","í”„ë¡ íŠ¸ì—”ë“œ","DevOps","êµìœ¡","í”„ë¡œê·¸ë˜ë°","ì¼ë°˜"];return h?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"ë¸”ë¡œê·¸ ê¸€ì“°ê¸°"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("label",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 cursor-pointer flex items-center",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"JSON ê°€ì ¸ì˜¤ê¸°",e.jsx("input",{type:"file",accept:".json",onChange:N,className:"hidden"})]}),e.jsxs("button",{onClick:j,className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"JSON ë‚´ë³´ë‚´ê¸°"]}),e.jsxs("button",{onClick:()=>d("/blog"),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 flex items-center",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"ì·¨ì†Œ"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"í¸ì§‘ê¸°"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ì œëª© *"}),e.jsx("input",{type:"text",name:"title",value:t.title,onChange:r,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"í¬ìŠ¤íŠ¸ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ìš”ì•½"}),e.jsx("input",{type:"text",name:"excerpt",value:t.excerpt,onChange:r,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ê°„ë‹¨í•œ ìš”ì•½ (ë¹„ì›Œë‘ë©´ ìë™ ìƒì„±)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ì¹´í…Œê³ ë¦¬"}),e.jsxs("select",{name:"category",value:t.category,onChange:r,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"ì„ íƒí•˜ì„¸ìš”"}),y.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ì‘ì„±ì"}),e.jsx("input",{type:"text",name:"author",value:t.author,onChange:r,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)"}),e.jsx("input",{type:"text",name:"tags",value:t.tags,onChange:r,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"React, TypeScript, ì›¹ê°œë°œ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ì´ë¯¸ì§€ URL"}),e.jsx("input",{type:"text",name:"image_url",value:t.image_url,onChange:r,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/image.jpg (ë¹„ì›Œë‘ë©´ ìë™ ìƒì„±)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ë‚´ìš© * (Markdown ì§€ì›)"}),e.jsx("textarea",{name:"content",value:t.content,onChange:r,rows:15,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:`## ì œëª©

ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”...

- ë¦¬ìŠ¤íŠ¸ í•­ëª©
- **êµµì€ ê¸€ì”¨**
- *ê¸°ìš¸ì„*`})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:f,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center justify-center",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"ì €ì¥"]}),e.jsxs("button",{onClick:()=>b(!x),className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 flex items-center justify-center",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),x?"í¸ì§‘ê¸°":"ë¯¸ë¦¬ë³´ê¸°"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"ë¯¸ë¦¬ë³´ê¸°"}),e.jsxs("article",{className:"prose prose-indigo max-w-none",children:[t.image_url&&e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),t.category&&e.jsx("span",{className:"inline-block px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-full mb-2",children:t.category}),e.jsx("h1",{children:t.title||"ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"}),t.tags&&e.jsx("div",{className:"flex gap-2 mb-4",children:t.tags.split(",").map((s,l)=>e.jsxs("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:["#",s.trim()]},l))}),t.excerpt&&e.jsx("p",{className:"text-gray-600 italic",children:t.excerpt}),e.jsx(A,{remarkPlugins:[M],children:t.content||"*ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...*"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-bold text-yellow-800 mb-2",children:"ğŸ“ ì‚¬ìš© ë°©ë²•"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"â€¢ ì‘ì„±í•œ ê¸€ì€ ë¸Œë¼ìš°ì €ì˜ localStorageì— ì €ì¥ë©ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ JSON ë‚´ë³´ë‚´ê¸°ë¡œ í¬ìŠ¤íŠ¸ë¥¼ ë°±ì—…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ JSON íŒŒì¼ì„ ìˆ˜ì •í•˜ì—¬ ëŒ€ëŸ‰ì˜ í¬ìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"}),e.jsxs("li",{children:["â€¢ ì‹¤ì œ ë°°í¬ ì‹œì—ëŠ”"," ",e.jsx("code",{className:"bg-yellow-100 px-1",children:"blogPosts.js"})," íŒŒì¼ì— ì§ì ‘ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤"]}),e.jsx("li",{children:"â€¢ Markdown ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì—¬ í’ë¶€í•œ ì½˜í…ì¸ ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ê´€ë¦¬ì ëª¨ë“œê°€ í•„ìš”í•©ë‹ˆë‹¤"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"ë¸”ë¡œê·¸ ê¸€ì„ ì‘ì„±í•˜ë ¤ë©´ ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤."}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md mx-auto",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["ê´€ë¦¬ì ëª¨ë“œë¥¼ í™œì„±í™”í•˜ë ¤ë©´ URLì—"," ",e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"?admin=true"}),"ë¥¼ ì¶”ê°€í•˜ì„¸ìš”."]}),e.jsx("button",{onClick:()=>{window.location.href=window.location.pathname+"?admin=true"},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™”"})]})]})})};export{$ as default};
//# sourceMappingURL=BlogEditor-CYpVfros.js.map
