import{j as e,H as t,s,o as a,t as n,u as r,p as l,g as o,v as i,w as c,x as m,A as d}from"./ui-vendor-CIRe6Htr.js";import{r as x,f as u,u as p}from"./react-vendor-CcwLiv3B.js";import{H as g,l as h,u as j,P as b,E as y}from"./index-2TMfmmtE.js";import{M as f,r as N}from"./index-BiP6NLEj.js";import"./i18n-CtInlIKh.js";const w=x.memo(({title:t,description:s,keywords:a,ogImage:n="/og-image.png",canonical:r,type:l="website"})=>{const o="에멜무지로 | AI 혁신 파트너",i=s||"기업의 AI 전환을 위한 솔루션 개발, 실전 교육, 전략 컨설팅을 제공합니다. 검증된 방법론과 실전 경험을 바탕으로 귀사의 디지털 혁신을 함께 만들어갑니다.",c=t?`${t} | ${o}`:o,m=a||"AI 도입, AI 컨설팅, AI 교육, 기업 AI, 디지털 전환, AI 솔루션, 머신러닝, 딥러닝, 생성형 AI, Computer Vision, AI 프로젝트, AI 전략";return e.jsxs(g,{children:[e.jsx("title",{children:c}),e.jsx("meta",{name:"description",content:i}),e.jsx("meta",{name:"keywords",content:m}),e.jsx("meta",{name:"author",content:"에멜무지로"}),e.jsx("meta",{property:"og:site_name",content:"에멜무지로"}),e.jsx("meta",{property:"og:title",content:c}),e.jsx("meta",{property:"og:description",content:i}),e.jsx("meta",{property:"og:image",content:n}),e.jsx("meta",{property:"og:type",content:l}),r&&e.jsx("meta",{property:"og:url",content:r}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:c}),e.jsx("meta",{name:"twitter:description",content:i}),e.jsx("meta",{name:"twitter:image",content:n}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("meta",{name:"format-detection",content:"telephone=no"}),e.jsx("meta",{name:"theme-color",content:"#4F46E5"}),e.jsx("meta",{name:"google",content:"notranslate"}),e.jsx("html",{lang:"ko"}),r&&e.jsx("link",{rel:"canonical",href:r}),e.jsx("meta",{name:"application-name",content:"에멜무지로"}),e.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),e.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),e.jsx("meta",{name:"apple-mobile-web-app-title",content:"에멜무지로"}),e.jsx("meta",{name:"mobile-web-app-capable",content:"yes"})]})});w.displayName="SEO";const k=({post:l})=>{const[o,i]=x.useState(0),[c,m]=x.useState(!1),[d,u]=x.useState(!1),[p,g]=x.useState(!1),[j,b]=x.useState(!1),y=()=>{let e=localStorage.getItem("userId");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("userId",e)),e};x.useEffect(()=>{try{const e=y(),t=localStorage.getItem("postLikes"),s=(t?JSON.parse(t):{})[l.id]||{count:0,users:[]};i(s.count),m(s.users.includes(e));const a=localStorage.getItem("bookmarks"),n=a?JSON.parse(a):[];u(n.some(e=>e.id===l.id))}catch(e){h.error("Failed to load interactions:",e),i(0),m(!1),u(!1)}},[l.id]);const f=window.location.href,N=l.title,w=l.excerpt;return e.jsxs("div",{className:"flex items-center justify-between py-4 border-y my-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>{try{const e=y(),t=localStorage.getItem("postLikes"),s=t?JSON.parse(t):{},a=s[l.id]||{count:0,users:[]};c?(a.count=Math.max(0,a.count-1),a.users=a.users.filter(t=>t!==e)):(a.count+=1,a.users.push(e)),s[l.id]=a,localStorage.setItem("postLikes",JSON.stringify(s)),i(a.count),m(!c)}catch(e){h.error("Failed to toggle like:",e)}},className:"flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors "+(c?"bg-red-50 text-red-600":"hover:bg-gray-100 text-gray-600"),children:[e.jsx(t,{className:"w-5 h-5 "+(c?"fill-current":"")}),e.jsx("span",{className:"font-medium",children:o})]}),e.jsx("button",{onClick:()=>{try{const e=localStorage.getItem("bookmarks"),t=e?JSON.parse(e):[];if(d){const e=t.filter(e=>e.id!==l.id);localStorage.setItem("bookmarks",JSON.stringify(e))}else{const e={id:l.id,title:l.title,excerpt:l.excerpt||l.title,date:l.date,savedAt:(new Date).toISOString()};t.unshift(e),localStorage.setItem("bookmarks",JSON.stringify(t))}u(!d)}catch(e){h.error("Failed to toggle bookmark:",e)}},className:"flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors "+(d?"bg-yellow-50 text-yellow-600":"hover:bg-gray-100 text-gray-600"),children:e.jsx(s,{className:"w-5 h-5 "+(d?"fill-current":"")})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:N,text:w,url:f})}catch{}else g(!0)},className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-600",children:[e.jsx(a,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"공유"})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1),onKeyDown:e=>"Escape"===e.key&&g(!1),role:"button",tabIndex:0,"aria-label":"Close share menu"}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-50",children:[e.jsx("button",{onClick:()=>{(()=>{const e=`https://story.kakao.com/share?url=${encodeURIComponent(f)}`;window.open(e,"_blank","width=500,height=600")})(),g(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"카카오톡"}),e.jsx("button",{onClick:()=>{(()=>{const e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(f)}`;window.open(e,"_blank","width=500,height=600")})(),g(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Facebook"}),e.jsx("button",{onClick:()=>{(()=>{const e=`https://twitter.com/intent/tweet?text=${encodeURIComponent(N)}&url=${encodeURIComponent(f)}`;window.open(e,"_blank","width=500,height=600")})(),g(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Twitter"}),e.jsx("button",{onClick:()=>{(()=>{const e=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(f)}`;window.open(e,"_blank","width=500,height=600")})(),g(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"LinkedIn"}),e.jsx("button",{onClick:()=>{(async()=>{try{await navigator.clipboard.writeText(f),b(!0),setTimeout(()=>b(!1),2e3)}catch{const e=document.createElement("textarea");e.value=f,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),b(!0),setTimeout(()=>b(!1),2e3)}})(),g(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 border-t",children:e.jsx("span",{className:"flex items-center",children:j?e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"w-4 h-4 mr-2 text-green-600"}),"복사됨!"]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"링크 복사"]})})})]})]})]})]})},v=({postId:t})=>{const[s,a]=x.useState([]),[n,r]=x.useState(""),[d,u]=x.useState(""),[p,g]=x.useState(null),[j,b]=x.useState(""),y=()=>{let e=localStorage.getItem("userId");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("userId",e)),e};x.useEffect(()=>{(()=>{try{const e=localStorage.getItem("blogComments");if(e){const s=JSON.parse(e);a(s[t]||[])}}catch(e){h.error("Failed to load comments:",e),a([])}})();const e=localStorage.getItem("commentAuthorName");e&&u(e)},[t]);const f=e=>{try{const s=localStorage.getItem("blogComments"),n=s?JSON.parse(s):{};n[t]=e,localStorage.setItem("blogComments",JSON.stringify(n)),a(e)}catch(s){h.error("Failed to save comments:",s)}},N=(e,t=!1,a)=>{const n=y(),r=s.map(s=>{if(!t&&s.id===e){const e=s.likedBy||[],t=e.includes(n);return{...s,likes:t?s.likes-1:s.likes+1,likedBy:t?e.filter(e=>e!==n):[...e,n]}}return t&&s.id===a?{...s,replies:s.replies?.map(t=>{if(t.id===e){const e=t.likedBy||[],s=e.includes(n);return{...t,likes:s?t.likes-1:t.likes+1,likedBy:s?e.filter(e=>e!==n):[...e,n]}}return t})}:s});f(r)},w=e=>{const t=new Date(e),s=(new Date).getTime()-t.getTime(),a=Math.floor(s/864e5);if(0===a){const e=Math.floor(s/36e5);if(0===e){const e=Math.floor(s/6e4);return 0===e?"방금 전":`${e}분 전`}return`${e}시간 전`}return a<7?`${a}일 전`:t.toLocaleDateString("ko-KR")},k=y();return e.jsxs("div",{className:"mt-12",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center",children:[e.jsx(l,{className:"mr-2"}),"댓글 (",s.length,")"]}),e.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!n.trim()||!d.trim())return;const a={id:`comment_${Date.now()}`,postId:t,author:d,content:n,date:(new Date).toISOString(),likes:0,likedBy:[],replies:[]};localStorage.setItem("commentAuthorName",d),f([a,...s]),r("")},className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"이름",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"댓글을 작성해주세요...",rows:3,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"댓글 작성"]})]}),e.jsx("div",{className:"space-y-6",children:s.map(a=>e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(i,{className:"w-4 h-4 mr-2 text-gray-500"}),e.jsx("span",{className:"font-medium",children:a.author}),e.jsx("span",{className:"mx-2 text-gray-300",children:"•"}),e.jsx(c,{className:"w-4 h-4 mr-1 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:w(a.date)})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:a.content}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>N(a.id),className:"flex items-center space-x-1 text-sm "+(a.likedBy?.includes(k)?"text-blue-600":"text-gray-500 hover:text-blue-600"),children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:a.likes})]}),e.jsx("button",{onClick:()=>g(a.id),className:"text-sm text-gray-500 hover:text-blue-600",children:"답글"})]}),p===a.id&&e.jsxs("div",{className:"mt-4 ml-4 p-3 bg-gray-50 rounded",children:[e.jsx("textarea",{value:j,onChange:e=>b(e.target.value),placeholder:"답글을 작성해주세요...",rows:2,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>(e=>{if(!j.trim()||!d.trim())return;const a={id:`reply_${Date.now()}`,postId:t,author:d,content:j,date:(new Date).toISOString(),likes:0,likedBy:[]},n=s.map(t=>t.id===e?{...t,replies:[...t.replies||[],a]}:t);f(n),g(null),b("")})(a.id),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"답글 작성"}),e.jsx("button",{onClick:()=>{g(null),b("")},className:"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 text-sm",children:"취소"})]})]}),a.replies&&a.replies.length>0&&e.jsx("div",{className:"mt-4 ml-8 space-y-3",children:a.replies.map(t=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(i,{className:"w-3 h-3 mr-1 text-gray-500"}),e.jsx("span",{className:"font-medium text-sm",children:t.author}),e.jsx("span",{className:"mx-2 text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-500",children:w(t.date)})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:t.content}),e.jsxs("button",{onClick:()=>N(t.id,!0,a.id),className:"flex items-center space-x-1 text-xs "+(t.likedBy?.includes(k)?"text-blue-600":"text-gray-500 hover:text-blue-600"),children:[e.jsx(m,{className:"w-3 h-3"}),e.jsx("span",{children:t.likes})]})]},t.id))})]})})},a.id))}),0===s.length&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"아직 댓글이 없습니다. 첫 번째 댓글을 작성해보세요!"})]})},S=x.memo(()=>{const{id:t}=u(),s=p(),{currentPost:a,loading:n,error:r,fetchPostById:l,clearCurrentPost:o}=j();return x.useEffect(()=>(t&&l(t),()=>o()),[t]),n?e.jsx(b,{message:"블로그 포스트를 불러오는 중입니다..."}):r&&r.includes("404")?(s("/404",{replace:!0}),null):r?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:[e.jsx("p",{className:"text-red-600",children:r}),e.jsx("button",{onClick:()=>s(-1),className:"mt-4 text-indigo-600 hover:text-indigo-700",children:"뒤로 가기"})]})}):e.jsx(y,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[a&&e.jsx(w,{title:`${a.title} | 에멜무지로 블로그`,description:a.excerpt||a.title,keywords:`${a.category}, 에멜무지로, 블로그`,ogImage:a.image_url}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("button",{onClick:()=>s(-1),className:"mb-8 text-indigo-600 hover:text-indigo-700 flex items-center group",children:[e.jsx(d,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"뒤로가기"]}),e.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a?.image_url&&e.jsx("img",{src:a.image_url,alt:`${a.title} 관련 이미지`,className:"w-full h-64 object-cover"}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"inline-block px-3 py-1 text-sm rounded-full mb-4 font-medium",style:{backgroundColor:"#E0E7FF",color:"#4F46E5"},children:a?.category}),e.jsx("time",{dateTime:a?.date,className:"text-sm text-gray-500 ml-4",children:a?.date&&(i=a.date,new Date(i).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}))})]}),e.jsx("h1",{className:"text-3xl font-bold mb-6",children:a?.title}),e.jsxs("div",{className:"flex items-center mb-6 text-gray-600",children:[e.jsxs("span",{children:["작성자: ",a?.author]}),a?.tags&&a.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("div",{className:"flex gap-2",children:a.tags.map((t,s)=>e.jsxs("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:["#",t]},s))})]})]}),e.jsx("div",{className:"prose prose-indigo max-w-none",children:e.jsx(f,{remarkPlugins:[N],children:a?.content||""})}),a&&e.jsx(k,{post:a}),a&&e.jsx(v,{postId:a.id})]})]})]})]})});var i});S.displayName="BlogDetailPage";export{S as default};
