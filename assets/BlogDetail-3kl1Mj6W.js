import{j as e,H as _,s as F,o as U,t as M,u as J,p as R,g as P,v as B,w as K,x as T,A as H}from"./ui-vendor-B8I1SmuU.js";import{r as g,f as q,u as z}from"./react-vendor-BPZHHc88.js";import{H as G,l as I,u as V,P as Q,E as W}from"./index-D7wojeWw.js";import{M as X,r as Y}from"./index-DZcDBLRx.js";import"./i18n-C_xjgTvF.js";const Z=({title:n,description:c,keywords:a,ogImage:p="/og-image.png",canonical:m,type:x="website"})=>{const b="에멜무지로 | AI 혁신 파트너",y="기업의 AI 전환을 위한 솔루션 개발, 실전 교육, 전략 컨설팅을 제공합니다. 검증된 방법론과 실전 경험을 바탕으로 귀사의 디지털 혁신을 함께 만들어갑니다.",d="AI 도입, AI 컨설팅, AI 교육, 기업 AI, 디지털 전환, AI 솔루션, 머신러닝, 딥러닝, 생성형 AI, Computer Vision, AI 프로젝트, AI 전략",j=c||y,f=n?`${n} | ${b}`:b,w=a||d;return e.jsxs(G,{children:[e.jsx("title",{children:f}),e.jsx("meta",{name:"description",content:j}),e.jsx("meta",{name:"keywords",content:w}),e.jsx("meta",{name:"author",content:"에멜무지로"}),e.jsx("meta",{property:"og:site_name",content:"에멜무지로"}),e.jsx("meta",{property:"og:title",content:f}),e.jsx("meta",{property:"og:description",content:j}),e.jsx("meta",{property:"og:image",content:p}),e.jsx("meta",{property:"og:type",content:x}),m&&e.jsx("meta",{property:"og:url",content:m}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:f}),e.jsx("meta",{name:"twitter:description",content:j}),e.jsx("meta",{name:"twitter:image",content:p}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("meta",{name:"format-detection",content:"telephone=no"}),e.jsx("meta",{name:"theme-color",content:"#4F46E5"}),e.jsx("meta",{name:"google",content:"notranslate"}),e.jsx("html",{lang:"ko"}),m&&e.jsx("link",{rel:"canonical",href:m}),e.jsx("meta",{name:"application-name",content:"에멜무지로"}),e.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),e.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),e.jsx("meta",{name:"apple-mobile-web-app-title",content:"에멜무지로"}),e.jsx("meta",{name:"mobile-web-app-capable",content:"yes"})]})},A=g.memo(Z);A.displayName="SEO";const ee=({post:n})=>{const[c,a]=g.useState(0),[p,m]=g.useState(!1),[x,b]=g.useState(!1),[y,d]=g.useState(!1),[j,f]=g.useState(!1),w=()=>{let t=localStorage.getItem("userId");return t||(t=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("userId",t)),t};g.useEffect(()=>{try{const t=w(),o=localStorage.getItem("postLikes"),i=(o?JSON.parse(o):{})[n.id]||{count:0,users:[]};a(i.count),m(i.users.includes(t));const v=localStorage.getItem("bookmarks"),E=v?JSON.parse(v):[];b(E.some(O=>O.id===n.id))}catch(t){I.error("Failed to load interactions:",t),a(0),m(!1),b(!1)}},[n.id]);const S=()=>{try{const t=w(),o=localStorage.getItem("postLikes"),u=o?JSON.parse(o):{},i=u[n.id]||{count:0,users:[]};p?(i.count=Math.max(0,i.count-1),i.users=i.users.filter(v=>v!==t)):(i.count+=1,i.users.push(t)),u[n.id]=i,localStorage.setItem("postLikes",JSON.stringify(u)),a(i.count),m(!p)}catch(t){I.error("Failed to toggle like:",t)}},$=()=>{try{const t=localStorage.getItem("bookmarks"),o=t?JSON.parse(t):[];if(x){const u=o.filter(i=>i.id!==n.id);localStorage.setItem("bookmarks",JSON.stringify(u))}else{const u={id:n.id,title:n.title,excerpt:n.excerpt||n.title,date:n.date,savedAt:new Date().toISOString()};o.unshift(u),localStorage.setItem("bookmarks",JSON.stringify(o))}b(!x)}catch(t){I.error("Failed to toggle bookmark:",t)}},k=window.location.href,C=n.title,D=n.excerpt,L=()=>{const t=`https://story.kakao.com/share?url=${encodeURIComponent(k)}`;window.open(t,"_blank","width=500,height=600")},s=()=>{const t=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(k)}`;window.open(t,"_blank","width=500,height=600")},r=()=>{const t=`https://twitter.com/intent/tweet?text=${encodeURIComponent(C)}&url=${encodeURIComponent(k)}`;window.open(t,"_blank","width=500,height=600")},h=()=>{const t=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(k)}`;window.open(t,"_blank","width=500,height=600")},l=async()=>{try{await navigator.clipboard.writeText(k),f(!0),setTimeout(()=>f(!1),2e3)}catch{const t=document.createElement("textarea");t.value=k,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),f(!0),setTimeout(()=>f(!1),2e3)}},N=async()=>{if(navigator.share)try{await navigator.share({title:C,text:D,url:k})}catch{}else d(!0)};return e.jsxs("div",{className:"flex items-center justify-between py-4 border-y my-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:S,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${p?"bg-red-50 text-red-600":"hover:bg-gray-100 text-gray-600"}`,children:[e.jsx(_,{className:`w-5 h-5 ${p?"fill-current":""}`}),e.jsx("span",{className:"font-medium",children:c})]}),e.jsx("button",{onClick:$,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${x?"bg-yellow-50 text-yellow-600":"hover:bg-gray-100 text-gray-600"}`,children:e.jsx(F,{className:`w-5 h-5 ${x?"fill-current":""}`})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-600",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"공유"})]}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1),onKeyDown:t=>t.key==="Escape"&&d(!1),role:"button",tabIndex:0,"aria-label":"Close share menu"}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-50",children:[e.jsx("button",{onClick:()=>{L(),d(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"카카오톡"}),e.jsx("button",{onClick:()=>{s(),d(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Facebook"}),e.jsx("button",{onClick:()=>{r(),d(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Twitter"}),e.jsx("button",{onClick:()=>{h(),d(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"LinkedIn"}),e.jsx("button",{onClick:()=>{l(),d(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 border-t",children:e.jsx("span",{className:"flex items-center",children:j?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 mr-2 text-green-600"}),"복사됨!"]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"링크 복사"]})})})]})]})]})]})},te=({postId:n})=>{const[c,a]=g.useState([]),[p,m]=g.useState(""),[x,b]=g.useState(""),[y,d]=g.useState(null),[j,f]=g.useState(""),w=()=>{let s=localStorage.getItem("userId");return s||(s=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("userId",s)),s};g.useEffect(()=>{(()=>{try{const h=localStorage.getItem("blogComments");if(h){const l=JSON.parse(h);a(l[n]||[])}}catch(h){I.error("Failed to load comments:",h),a([])}})();const r=localStorage.getItem("commentAuthorName");r&&b(r)},[n]);const S=s=>{try{const r=localStorage.getItem("blogComments"),h=r?JSON.parse(r):{};h[n]=s,localStorage.setItem("blogComments",JSON.stringify(h)),a(s)}catch(r){I.error("Failed to save comments:",r)}},$=s=>{if(s.preventDefault(),!p.trim()||!x.trim())return;const r={id:`comment_${Date.now()}`,postId:n,author:x,content:p,date:new Date().toISOString(),likes:0,likedBy:[],replies:[]};localStorage.setItem("commentAuthorName",x),S([r,...c]),m("")},k=s=>{if(!j.trim()||!x.trim())return;const r={id:`reply_${Date.now()}`,postId:n,author:x,content:j,date:new Date().toISOString(),likes:0,likedBy:[]},h=c.map(l=>l.id===s?{...l,replies:[...l.replies||[],r]}:l);S(h),d(null),f("")},C=(s,r=!1,h)=>{const l=w(),N=c.map(t=>{if(!r&&t.id===s){const o=t.likedBy||[],u=o.includes(l);return{...t,likes:u?t.likes-1:t.likes+1,likedBy:u?o.filter(i=>i!==l):[...o,l]}}else if(r&&t.id===h)return{...t,replies:t.replies?.map(o=>{if(o.id===s){const u=o.likedBy||[],i=u.includes(l);return{...o,likes:i?o.likes-1:o.likes+1,likedBy:i?u.filter(v=>v!==l):[...u,l]}}return o})};return t});S(N)},D=s=>{const r=new Date(s),l=new Date().getTime()-r.getTime(),N=Math.floor(l/(1e3*60*60*24));if(N===0){const t=Math.floor(l/36e5);if(t===0){const o=Math.floor(l/6e4);return o===0?"방금 전":`${o}분 전`}return`${t}시간 전`}else return N<7?`${N}일 전`:r.toLocaleDateString("ko-KR")},L=w();return e.jsxs("div",{className:"mt-12",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center",children:[e.jsx(R,{className:"mr-2"}),"댓글 (",c.length,")"]}),e.jsxs("form",{onSubmit:$,className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",value:x,onChange:s=>b(s.target.value),placeholder:"이름",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:p,onChange:s=>m(s.target.value),placeholder:"댓글을 작성해주세요...",rows:3,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),e.jsxs("button",{type:"submit",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"댓글 작성"]})]}),e.jsx("div",{className:"space-y-6",children:c.map(s=>e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(B,{className:"w-4 h-4 mr-2 text-gray-500"}),e.jsx("span",{className:"font-medium",children:s.author}),e.jsx("span",{className:"mx-2 text-gray-300",children:"•"}),e.jsx(K,{className:"w-4 h-4 mr-1 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:D(s.date)})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:s.content}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>C(s.id),className:`flex items-center space-x-1 text-sm ${s.likedBy?.includes(L)?"text-blue-600":"text-gray-500 hover:text-blue-600"}`,children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:s.likes})]}),e.jsx("button",{onClick:()=>d(s.id),className:"text-sm text-gray-500 hover:text-blue-600",children:"답글"})]}),y===s.id&&e.jsxs("div",{className:"mt-4 ml-4 p-3 bg-gray-50 rounded",children:[e.jsx("textarea",{value:j,onChange:r=>f(r.target.value),placeholder:"답글을 작성해주세요...",rows:2,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>k(s.id),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"답글 작성"}),e.jsx("button",{onClick:()=>{d(null),f("")},className:"px-3 py-1 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 text-sm",children:"취소"})]})]}),s.replies&&s.replies.length>0&&e.jsx("div",{className:"mt-4 ml-8 space-y-3",children:s.replies.map(r=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(B,{className:"w-3 h-3 mr-1 text-gray-500"}),e.jsx("span",{className:"font-medium text-sm",children:r.author}),e.jsx("span",{className:"mx-2 text-gray-300",children:"•"}),e.jsx("span",{className:"text-xs text-gray-500",children:D(r.date)})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:r.content}),e.jsxs("button",{onClick:()=>C(r.id,!0,s.id),className:`flex items-center space-x-1 text-xs ${r.likedBy?.includes(L)?"text-blue-600":"text-gray-500 hover:text-blue-600"}`,children:[e.jsx(T,{className:"w-3 h-3"}),e.jsx("span",{children:r.likes})]})]},r.id))})]})})},s.id))}),c.length===0&&e.jsx("p",{className:"text-center text-gray-500 py-8",children:"아직 댓글이 없습니다. 첫 번째 댓글을 작성해보세요!"})]})},se=n=>{const c={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("ko-KR",c)},ae=g.memo(()=>{const{id:n}=q(),c=z(),{currentPost:a,loading:p,error:m,fetchPostById:x,clearCurrentPost:b}=V();return g.useEffect(()=>(n&&x(n),()=>b()),[n]),p?e.jsx(Q,{message:"블로그 포스트를 불러오는 중입니다..."}):m&&m.includes("404")?(c("/404",{replace:!0}),null):m?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-center",children:[e.jsx("p",{className:"text-red-600",children:m}),e.jsx("button",{onClick:()=>c(-1),className:"mt-4 text-indigo-600 hover:text-indigo-700",children:"뒤로 가기"})]})}):e.jsx(W,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[a&&e.jsx(A,{title:`${a.title} | 에멜무지로 블로그`,description:a.excerpt||a.title,keywords:`${a.category}, 에멜무지로, 블로그`,ogImage:a.image_url}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs("button",{onClick:()=>c(-1),className:"mb-8 text-indigo-600 hover:text-indigo-700 flex items-center group",children:[e.jsx(H,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"뒤로가기"]}),e.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a?.image_url&&e.jsx("img",{src:a.image_url,alt:`${a.title} 관련 이미지`,className:"w-full h-64 object-cover"}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"inline-block px-3 py-1 text-sm rounded-full mb-4 font-medium",style:{backgroundColor:"#E0E7FF",color:"#4F46E5"},children:a?.category}),e.jsx("time",{dateTime:a?.date,className:"text-sm text-gray-500 ml-4",children:a?.date&&se(a.date)})]}),e.jsx("h1",{className:"text-3xl font-bold mb-6",children:a?.title}),e.jsxs("div",{className:"flex items-center mb-6 text-gray-600",children:[e.jsxs("span",{children:["작성자: ",a?.author]}),a?.tags&&a.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("div",{className:"flex gap-2",children:a.tags.map((y,d)=>e.jsxs("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:["#",y]},d))})]})]}),e.jsx("div",{className:"prose prose-indigo max-w-none",children:e.jsx(X,{remarkPlugins:[Y],children:a?.content||""})}),a&&e.jsx(ee,{post:a}),a&&e.jsx(te,{postId:a.id})]})]})]})]})})});ae.displayName="BlogDetailPage";export{ae as default};
//# sourceMappingURL=BlogDetail-3kl1Mj6W.js.map
